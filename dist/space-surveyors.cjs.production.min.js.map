{"version":3,"file":"space-surveyors.cjs.production.min.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/space-surveyors.tsx","../src/index.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useReducer,\n  PropsWithChildren,\n  useContext,\n} from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: undefined,\n    height: undefined,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst GlobalStateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nconst useGlobalStore = () => useContext(GlobalStoreContext);\n\nexport { GlobalStoreContext, GlobalStateProvider, useGlobalStore };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { useGlobalStore } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\nimport styles from './styles.module.css';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useGlobalStore();\n\n  const handleContainerResize = ({\n    width,\n    height,\n  }: {\n    width: number | undefined;\n    height: number | undefined;\n  }) => {\n    dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n  };\n\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: handleContainerResize,\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className={styles.spaceSurveyorsContainer} ref={ref}>\n      <GameEngine\n        className={styles.spaceSurveyorsStage}\n        entities={Entities}\n        systems={Systems}\n      >\n        <h1>\n          Space Surveyors {width} {height}\n        </h1>\n      </GameEngine>\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n","import React from 'react';\nimport { GlobalStateProvider } from '@contexts/store';\nimport { SpaceSurveyors } from './space-surveyors';\n\nexport default () => (\n  <GlobalStateProvider>\n    <SpaceSurveyors></SpaceSurveyors>\n  </GlobalStateProvider>\n);\n"],"names":["initialStoreContext","state","width","undefined","height","dispatch","_a","reducer","action","type","GlobalStoreContext","createContext","Provider","GlobalStateProvider","_ref","children","useReducer","React","value","Entities","Systems","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SpaceSurveyors","useContext","useResizeObserver","onResize","className","GameEngine","entities","systems"],"mappings":"2OAQA,MAAMA,EAA+B,CACnCC,MAAO,CACLC,WAAOC,EACPC,YAAQD,GAEVE,SAAUC,OAGNC,EAAU,CAACN,EAAcO,KAC7B,OAAQA,EAAOC,MACb,IAAK,qBACH,MAAMP,MAAEA,EAAFE,OAASA,GAAWI,EAC1B,MAAO,IAAKP,EAAOC,MAAAA,EAAOE,OAAAA,GAE5B,QACE,OAAOH,IAIPS,EAAqBC,gBAAcX,IACnCY,SAAEA,GAAaF,EAEfG,EAAsBC,QAACC,SAAEA,KAC7B,MAAOd,EAAOI,GAAYW,aAAWT,EAASP,EAAoBC,OAClE,OAAOgB,gBAACL,GAASM,MAAO,CAAEjB,MAAAA,EAAOI,SAAAA,IAAaU,IChC1CI,EAAW,GCAXC,EAAiB,ICAvB,SAAqBC,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAgC,oBAAbC,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAMlB,KAAO,WAEI,QAAbc,GACEE,EAAKI,WACPJ,EAAKK,aAAaH,EAAOF,EAAKI,YAKhCJ,EAAKM,YAAYJ,GAGfA,EAAMK,WACRL,EAAMK,WAAWC,QAAUZ,EAE3BM,EAAMI,YAAYP,SAASU,eAAeb,oQCfxCc,EAAiB,KACrB,MAAMlC,MAAEA,EAAFI,SAASA,GJ0BY+B,aAAW1B,IIdhCY,IAAEA,GAAQe,EAAkC,CAChDC,SAX4BxB,QAACZ,MAC7BA,EAD6BE,OAE7BA,KAKAC,EAAS,CAAEI,KAAM,qBAAsBP,MAAAA,EAAOE,OAAAA,QAO1CF,MAAEA,EAAFE,OAASA,GAAWH,EAE1B,OACEgB,uBAAKsB,yDAA2CjB,IAAKA,GACnDL,gBAACuB,cACCD,qDACAE,SAAUtB,EACVuB,QAAStB,GAETH,6CACmBf,MAAQE,0BC9BjCa,gBAACJ,OACCI,gBAACkB"}