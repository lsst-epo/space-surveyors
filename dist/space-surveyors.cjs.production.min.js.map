{"version":3,"file":"space-surveyors.cjs.production.min.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../src/index.tsx"],"sourcesContent":["import React, { createContext, useReducer, PropsWithChildren } from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: 1,\n    height: 1,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst StateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { GlobalStoreContext, StateProvider };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","import React, { useContext } from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { GlobalStoreContext } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useContext(GlobalStoreContext);\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: ({ width, height }) => {\n      dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n    },\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className=\"space-surveyors-container\" ref={ref}>\n      <h1>\n        Space Surveyors {width} {height}\n      </h1>\n      <GameEngine\n        entities={Entities}\n        systems={Systems}\n        style={{\n          height: '100vh',\n          backgroundColor: 'peachpuff',\n          overflow: 'hidden',\n        }}\n      />\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n"],"names":["GlobalStoreContext","createContext","state","width","height","dispatch","_a","Entities","Systems","useContext","useResizeObserver","onResize","type","React","className","ref","GameEngine","entities","systems","style","backgroundColor","overflow"],"mappings":"2OAsBMA,EAAqBC,gBAnBU,CACnCC,MAAO,CACLC,MAAO,EACPC,OAAQ,GAEVC,SAAU,SAAAC,OCRNC,EAAW,GCAXC,EAAiB,0BCOA,WACrB,MAA4BC,aAAWT,GAA/BE,IAAAA,MAAOG,IAAAA,WACCK,EAAkC,CAChDC,SAAU,YACRN,EAAS,CAAEO,KAAM,qBAAsBT,QAD5BA,MACmCC,SAD5BA,YAOtB,OACES,uBAAKC,UAAU,4BAA4BC,MATrCA,KAUJF,6CAJsBX,EAAlBC,UAAkBD,EAAXE,QAOXS,gBAACG,cACCC,SAAUV,EACVW,QAASV,EACTW,MAAO,CACLf,OAAQ,QACRgB,gBAAiB,YACjBC,SAAU"}