{"version":3,"file":"space-surveyors.cjs.production.min.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../src/space-surveyors.tsx","../src/index.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useReducer,\n  PropsWithChildren,\n  useContext,\n} from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: undefined,\n    height: undefined,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst GlobalStateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nconst useGlobalStore = () => useContext(GlobalStoreContext);\n\nexport { GlobalStoreContext, GlobalStateProvider, useGlobalStore };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","import React from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { useGlobalStore } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useGlobalStore();\n\n  const handleContainerResize = ({\n    width,\n    height,\n  }: {\n    width: number | undefined;\n    height: number | undefined;\n  }) => {\n    dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n  };\n\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: handleContainerResize,\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className=\"space-surveyors-container\" ref={ref}>\n      <h1>\n        Space Surveyors {width} {height}\n      </h1>\n      <GameEngine\n        entities={Entities}\n        systems={Systems}\n        style={{\n          height: '100vh',\n          backgroundColor: 'peachpuff',\n          overflow: 'hidden',\n        }}\n      />\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n","import React from 'react';\nimport { GlobalStateProvider } from '@contexts/store';\nimport { SpaceSurveyors } from './space-surveyors';\n\nexport default () => (\n  <GlobalStateProvider>\n    <SpaceSurveyors></SpaceSurveyors>\n  </GlobalStateProvider>\n);\n"],"names":["initialStoreContext","state","width","undefined","height","dispatch","_a","reducer","action","type","GlobalStoreContext","createContext","Provider","GlobalStateProvider","children","useReducer","React","value","Entities","Systems","SpaceSurveyors","useContext","useResizeObserver","onResize","className","ref","GameEngine","entities","systems","style","backgroundColor","overflow"],"mappings":"8cAQA,IAAMA,EAA+B,CACnCC,MAAO,CACLC,WAAOC,EACPC,YAAQD,GAEVE,SAAU,SAAAC,MAGNC,EAAU,SAACN,EAAcO,GAC7B,OAAQA,EAAOC,MACb,IAAK,qBAEH,YAAYR,GAAOC,MADOM,EAAlBN,MACkBE,OADAI,EAAXJ,SAGjB,QACE,OAAOH,IAIPS,EAAqBC,gBAAcX,GACjCY,EAAaF,EAAbE,SAEFC,EAAsB,gBAAGC,IAAAA,WACHC,aAAWR,EAASP,EAAoBC,OAClE,OAAOe,gBAACJ,GAASK,MAAO,CAAEhB,WAAOI,gBAAaS,IChC1CI,EAAW,GCAXC,EAAiB,GCOjBC,EAAiB,WACrB,MH2B2BC,aAAWX,GG3B9BT,IAAAA,MAAOI,IAAAA,WAYCiB,EAAkC,CAChDC,SAX4B,YAO5BlB,EAAS,CAAEI,KAAM,qBAAsBP,QANvCA,MAM8CE,SAL9CA,YAcF,OACEY,uBAAKQ,UAAU,4BAA4BC,MAPrCA,KAQJT,6CAJsBf,EAAlBC,UAAkBD,EAAXG,QAOXY,gBAACU,cACCC,SAAUT,EACVU,QAAST,EACTU,MAAO,CACLzB,OAAQ,QACR0B,gBAAiB,YACjBC,SAAU,yCCjCL,OACbf,gBAACH,OACCG,gBAACI"}