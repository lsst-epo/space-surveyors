{"version":3,"file":"space-surveyors.esm.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../src/index.tsx"],"sourcesContent":["import React, { createContext, useReducer, PropsWithChildren } from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: 1,\n    height: 1,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst StateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { GlobalStoreContext, StateProvider };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","import React, { useContext } from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { GlobalStoreContext } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useContext(GlobalStoreContext);\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: ({ width, height }) => {\n      dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n    },\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className=\"space-surveyors-container\" ref={ref}>\n      <h1>\n        Space Surveyors {width} {height}\n      </h1>\n      <GameEngine\n        entities={Entities}\n        systems={Systems}\n        style={{\n          height: '100vh',\n          backgroundColor: 'peachpuff',\n          overflow: 'hidden',\n        }}\n      />\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n"],"names":["initialStoreContext","state","width","height","dispatch","_a","GlobalStoreContext","createContext","Entities","Systems","SpaceSurveyors","useContext","useResizeObserver","onResize","type","ref","React","className","GameEngine","entities","systems","style","backgroundColor","overflow"],"mappings":";;;;AAGA,IAAMA,mBAAmB,GAAY;EACnCC,KAAK,EAAE;IACLC,KAAK,EAAE,CADF;IAELC,MAAM,EAAE;GAHyB;EAKnCC,QAAQ,EAAE,kBAAAC,EAAE;AALuB,CAArC;;AAmBA,IAAMC,kBAAkB,gBAAGC,aAAa,CAACP,mBAAD,CAAxC;;ACtBA,IAAMQ,QAAQ,GAAG,EAAjB;;ACAA,IAAMC,OAAO,GAAU,EAAvB;;ICOMC,cAAc,GAAG,SAAjBA,cAAiB;EACrB,kBAA4BC,UAAU,CAACL,kBAAD,CAAtC;MAAQL,KAAR,eAAQA,KAAR;MAAeG,QAAf,eAAeA,QAAf;;EACA,yBAAgBQ,iBAAiB,CAAiB;IAChDC,QAAQ,EAAE;UAAGX,aAAAA;UAAOC,cAAAA;MAClBC,QAAQ,CAAC;QAAEU,IAAI,EAAE,oBAAR;QAA8BZ,KAAK,EAALA,KAA9B;QAAqCC,MAAM,EAANA;OAAtC,CAAR;;GAF6B,CAAjC;MAAQY,GAAR,sBAAQA,GAAR;;EAMA,IAAQb,KAAR,GAA0BD,KAA1B,CAAQC,KAAR;MAAeC,MAAf,GAA0BF,KAA1B,CAAeE,MAAf;EAEA,OACEa,mBAAA,MAAA;IAAKC,SAAS,EAAC;IAA4BF,GAAG,EAAEA;GAAhD,EACEC,mBAAA,KAAA,MAAA,oBAAA,EACmBd,KADnB,KAAA,EAC2BC,MAD3B,CADF,EAIEa,mBAAA,CAACE,UAAD;IACEC,QAAQ,EAAEX;IACVY,OAAO,EAAEX;IACTY,KAAK,EAAE;MACLlB,MAAM,EAAE,OADH;MAELmB,eAAe,EAAE,WAFZ;MAGLC,QAAQ,EAAE;;GANd,CAJF,CADF;AAgBD,CA1BD;;;;"}