
{"version":3,"file":"space-surveyors.esm.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/space-surveyors.tsx","../src/index.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useReducer,\n  PropsWithChildren,\n  useContext,\n} from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: undefined,\n    height: undefined,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst GlobalStateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nconst useGlobalStore = () => useContext(GlobalStoreContext);\n\nexport { GlobalStoreContext, GlobalStateProvider, useGlobalStore };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { useGlobalStore } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\nimport styles from './styles.module.css';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useGlobalStore();\n\n  const handleContainerResize = ({\n    width,\n    height,\n  }: {\n    width: number | undefined;\n    height: number | undefined;\n  }) => {\n    dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n  };\n\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: handleContainerResize,\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className={styles.spaceSurveyorsContainer} ref={ref}>\n      <GameEngine\n        className={styles.spaceSurveyorsStage}\n        entities={Entities}\n        systems={Systems}\n      >\n        <h1>\n          Space Surveyors {width} {height}\n        </h1>\n      </GameEngine>\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n","import React from 'react';\nimport { GlobalStateProvider } from '@contexts/store';\nimport { SpaceSurveyors } from './space-surveyors';\n\nexport default () => (\n  <GlobalStateProvider>\n    <SpaceSurveyors></SpaceSurveyors>\n  </GlobalStateProvider>\n);\n"],"names":["initialStoreContext","state","width","undefined","height","dispatch","_a","reducer","action","type","GlobalStoreContext","createContext","Provider","GlobalStateProvider","children","useReducer","React","value","useGlobalStore","useContext","Entities","Systems","SpaceSurveyors","handleContainerResize","ref","useResizeObserver","onResize","className","styles","spaceSurveyorsContainer","GameEngine","spaceSurveyorsStage","entities","systems"],"mappings":"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"}

