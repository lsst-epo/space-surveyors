{"version":3,"file":"space-surveyors.cjs.development.js","sources":["../src/contexts/store.tsx","../src/entities/index.tsx","../src/systems/index.tsx","../src/space-surveyors.tsx","../src/index.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useReducer,\n  PropsWithChildren,\n  useContext,\n} from 'react';\nimport { Context, State, Action } from '@shapes/store';\n\nconst initialStoreContext: Context = {\n  state: {\n    width: undefined,\n    height: undefined,\n  },\n  dispatch: _a => {},\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'SET_CONTAINER_SIZE':\n      const { width, height } = action;\n      return { ...state, width, height };\n\n    default:\n      return state;\n  }\n};\n\nconst GlobalStoreContext = createContext(initialStoreContext);\nconst { Provider } = GlobalStoreContext;\n\nconst GlobalStateProvider = ({ children }: PropsWithChildren<any>) => {\n  const [state, dispatch] = useReducer(reducer, initialStoreContext.state);\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nconst useGlobalStore = () => useContext(GlobalStoreContext);\n\nexport { GlobalStoreContext, GlobalStateProvider, useGlobalStore };\n","const Entities = {};\n\nexport default Entities;\n","const Systems: any[] = [];\n\nexport default Systems;\n","import React from 'react';\nimport useResizeObserver from 'use-resize-observer';\nimport { useGlobalStore } from '@contexts/store';\nimport { GameEngine } from 'react-game-engine';\nimport Entities from '@entities/index';\nimport Systems from '@systems/index';\n\nconst SpaceSurveyors = () => {\n  const { state, dispatch } = useGlobalStore();\n\n  const handleContainerResize = ({\n    width,\n    height,\n  }: {\n    width: number | undefined;\n    height: number | undefined;\n  }) => {\n    dispatch({ type: 'SET_CONTAINER_SIZE', width, height });\n  };\n\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: handleContainerResize,\n  });\n\n  const { width, height } = state;\n\n  return (\n    <div className=\"space-surveyors-container\" ref={ref}>\n      <h1>\n        Space Surveyors {width} {height}\n      </h1>\n      <GameEngine\n        entities={Entities}\n        systems={Systems}\n        style={{\n          height: '100vh',\n          backgroundColor: 'peachpuff',\n          overflow: 'hidden',\n        }}\n      />\n    </div>\n  );\n};\n\nexport { SpaceSurveyors };\n","import React from 'react';\nimport { GlobalStateProvider } from '@contexts/store';\nimport { SpaceSurveyors } from './space-surveyors';\n\nexport default () => (\n  <GlobalStateProvider>\n    <SpaceSurveyors></SpaceSurveyors>\n  </GlobalStateProvider>\n);\n"],"names":["initialStoreContext","state","width","undefined","height","dispatch","_a","reducer","action","type","GlobalStoreContext","createContext","Provider","GlobalStateProvider","children","useReducer","React","value","useGlobalStore","useContext","Entities","Systems","SpaceSurveyors","handleContainerResize","useResizeObserver","onResize","ref","className","GameEngine","entities","systems","style","backgroundColor","overflow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAMA,mBAAmB,GAAY;EACnCC,KAAK,EAAE;IACLC,KAAK,EAAEC,SADF;IAELC,MAAM,EAAED;GAHyB;EAKnCE,QAAQ,EAAE,kBAAAC,EAAE;AALuB,CAArC;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACN,KAAD,EAAeO,MAAf;EACd,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,oBAAL;MACE,IAAQP,KAAR,GAA0BM,MAA1B,CAAQN,KAAR;UAAeE,MAAf,GAA0BI,MAA1B,CAAeJ,MAAf;MACA,oBAAYH,KAAZ;QAAmBC,KAAK,EAALA,KAAnB;QAA0BE,MAAM,EAANA;;;IAE5B;MACE,OAAOH,KAAP;;AAEL,CATD;;AAWA,IAAMS,kBAAkB,gBAAGC,mBAAa,CAACX,mBAAD,CAAxC;AACA,IAAQY,QAAR,GAAqBF,kBAArB,CAAQE,QAAR;;AAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB;MAAGC,gBAAAA;;EAC7B,kBAA0BC,gBAAU,CAACR,OAAD,EAAUP,mBAAmB,CAACC,KAA9B,CAApC;MAAOA,KAAP;MAAcI,QAAd;;EACA,OAAOW,4BAAA,CAACJ,QAAD;IAAUK,KAAK,EAAE;MAAEhB,KAAK,EAALA,KAAF;MAASI,QAAQ,EAARA;;GAA1B,EAAuCS,QAAvC,CAAP;AACD,CAHD;;AAKA,IAAMI,cAAc,GAAG,SAAjBA,cAAiB;EAAA,OAAMC,gBAAU,CAACT,kBAAD,CAAhB;AAAA,CAAvB;;ACnCA,IAAMU,QAAQ,GAAG,EAAjB;;ACAA,IAAMC,OAAO,GAAU,EAAvB;;ACOA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;EACrB,sBAA4BJ,cAAc,EAA1C;MAAQjB,KAAR,mBAAQA,KAAR;MAAeI,QAAf,mBAAeA,QAAf;;EAEA,IAAMkB,qBAAqB,GAAG,SAAxBA,qBAAwB;QAC5BrB,aAAAA;QACAE,cAAAA;IAKAC,QAAQ,CAAC;MAAEI,IAAI,EAAE,oBAAR;MAA8BP,KAAK,EAALA,KAA9B;MAAqCE,MAAM,EAANA;KAAtC,CAAR;GAPF;;EAUA,yBAAgBoB,iBAAiB,CAAiB;IAChDC,QAAQ,EAAEF;GADqB,CAAjC;MAAQG,GAAR,sBAAQA,GAAR;;EAIA,IAAQxB,KAAR,GAA0BD,KAA1B,CAAQC,KAAR;MAAeE,MAAf,GAA0BH,KAA1B,CAAeG,MAAf;EAEA,OACEY,4BAAA,MAAA;IAAKW,SAAS,EAAC;IAA4BD,GAAG,EAAEA;GAAhD,EACEV,4BAAA,KAAA,MAAA,oBAAA,EACmBd,KADnB,KAAA,EAC2BE,MAD3B,CADF,EAIEY,4BAAA,CAACY,0BAAD;IACEC,QAAQ,EAAET;IACVU,OAAO,EAAET;IACTU,KAAK,EAAE;MACL3B,MAAM,EAAE,OADH;MAEL4B,eAAe,EAAE,WAFZ;MAGLC,QAAQ,EAAE;;GANd,CAJF,CADF;AAgBD,CAnCD;;ACHA,aAAe;EAAA,OACbjB,4BAAA,CAACH,mBAAD,MAAA,EACEG,4BAAA,CAACM,cAAD,MAAA,CADF,CADa;AAAA,CAAf;;;;"}